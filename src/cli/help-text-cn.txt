Usage: cal [command]

Gemini Any LLM AI 助手工具 - 通过本地网关提供优化的 AI 对话体验

Commands:
  code [prompt]     与 AI 助手对话（主要功能）
                    • 直接发送问题或任务给 AI 助手
                    • 自动启动和管理后台网关服务
                    • 支持所有 gemini CLI 原生参数和选项
                    • 首次使用会自动引导配置认证信息
                    • 若检测到新版本会先提示是否升级
                    • 支持通过 `--cli-mode opencode|crush|gemini` 切换不同 CLI 外观

  auth              配置 AI 服务认证信息
                    • 支持 claudeCode / codex / openai 提供商
                    • 交互式设置 API Key、服务地址和默认模型
                    • 配置文件：~/.code-cli-any-llm/config.yaml
                    • 首次使用或更换服务商时需要运行

  update            主动检查并安装最新版本
                    • 同步刷新版本缓存并执行升级命令
                    • 如果已是最新版本则提示后退出

  version           查看当前 cal 版本
  help              显示英文帮助（别名：-h, --help）
  help-cn           显示中文帮助（别名：--help-cn）
  -v, --version     查看当前 cal 版本（同 version）

网关管理命令:
  start             启动后台网关服务
                    • 手动启动网关，通常不需要直接使用
                    • 智能检测现有进程，避免重复启动
                    • 等待健康检查通过后返回

  stop              停止后台网关服务
                    • 优雅关闭网关进程和清理资源
                    • 等待进程完全退出（10秒超时）

  restart           重启网关服务
                    • 完整的停止和启动流程
                    • 配置更改后建议重启

  status            查看网关运行状态
                    • 显示服务健康状态和连接信息
                    • 显示进程信息和提供方配置

  kill              强制终止异常进程（故障排除）
                    • 多种方式查找和终止僵尸进程
                    • 仅在网关无响应时使用

配置与环境:
  • 配置文件：~/.code-cli-any-llm/config.yaml
  • 默认网关端口：23062（可在配置文件中修改）
  • PID 文件：~/.code-cli-any-llm/gateway.pid.json
  • 关闭自动更新检查：设置环境变量 CAL_DISABLE_UPDATE_CHECK=1

使用示例:
  # 首次使用，配置认证信息
  cal auth

  # 与 AI 助手对话（主要使用方式）
  cal code "请用TypeScript写一个HTTP服务"
  cal code "解释一下这段代码的作用"
  cal code "帮我优化这个算法"
  
  # 查看 gemini CLI 的更多选项
  cal code --help
  
  # 高级管理（通常不需要）
  cal status          # 查看服务状态
  cal restart         # 配置更改后重启
  cal kill           # 故障排除

故障排除:
  • AI 助手无响应：使用 'cal kill' 清理进程后重试
  • 认证失败：运行 'cal auth' 重新配置 API Key
  • 服务启动失败：检查网络连接和端口占用情况
  • 配置问题：检查 ~/.code-cli-any-llm/config.yaml 文件
  • 权限问题：确保有读写 ~/.code-cli-any-llm/ 目录的权限
