# Gemini Any LLM Gateway

> è®© Gemini CLI è®¿é—®ä»»ä½•å¤§è¯­è¨€æ¨¡åž‹æä¾›å•†

## ðŸŽ¯ é¡¹ç›®ç®€ä»‹

Gemini Any LLM Gateway æ˜¯ä¸€ä¸ª API ç½‘å…³æœåŠ¡ï¼Œè®©æ‚¨å¯ä»¥é€šè¿‡ Gemini CLI æ— ç¼è®¿é—®å„ç§å¤§è¯­è¨€æ¨¡åž‹æä¾›å•†ï¼ˆå¦‚ OpenAIã€æ™ºè°±AIã€åƒé—®ç­‰ï¼‰ã€‚æ— éœ€ä¿®æ”¹ Gemini CLIï¼Œå³å¯äº«å—å¤šæ ·åŒ–çš„ AI æ¨¡åž‹æœåŠ¡ã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- ðŸ”Œ **å³æ’å³ç”¨** - æ— éœ€ä¿®æ”¹ Gemini CLIï¼Œå®Œå…¨å…¼å®¹
- ðŸŒ **å¤šæä¾›å•†æ”¯æŒ** - æ”¯æŒ OpenAIã€æ™ºè°±AIã€åƒé—®ç­‰å¤šç§æä¾›å•†
- âš¡ **é«˜æ€§èƒ½æµå¼å“åº”** - å®žæ—¶æµå¼è¾“å‡ºï¼Œä½“éªŒæµç•…
- ðŸ› ï¸ **æ™ºèƒ½å·¥å…·è°ƒç”¨** - å®Œæ•´æ”¯æŒ Function Calling
- ðŸ“ **çµæ´»é…ç½®ç®¡ç†** - å…¨å±€é…ç½® + é¡¹ç›®é…ç½®ï¼Œä½¿ç”¨ä¾¿æ·

## ðŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…å’Œå¯åŠ¨

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/gemini-any-llm.git
cd gemini-any-llm

# å®‰è£…ä¾èµ–
pnpm install

# é¦–æ¬¡å¯åŠ¨ï¼ˆä¼šè‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶ï¼‰
pnpm run start:dev
```

### 2. é…ç½® API Key

é¦–æ¬¡å¯åŠ¨åŽï¼Œç³»ç»Ÿä¼šåœ¨æ‚¨çš„ç”¨æˆ·ç›®å½•ä¸‹åˆ›å»ºå…¨å±€é…ç½®æ–‡ä»¶ `~/.gemini-any-llm/config.yaml`ï¼š

```yaml
# Global configuration for gemini-any-llm
openai:
  # å¿…é¡»é…ç½®ï¼šä»Žæ‚¨çš„ AI æä¾›å•†èŽ·å– API Key
  apiKey: "your-api-key-here"

  # API ç«¯ç‚¹ï¼ˆé»˜è®¤æ™ºè°±AIï¼‰
  baseURL: "https://open.bigmodel.cn/api/paas/v4"

  # é»˜è®¤æ¨¡åž‹
  model: "glm-4.5"

  # è¯·æ±‚è¶…æ—¶æ—¶é—´
  timeout: 30000

gateway:
  port: 3002
  host: "0.0.0.0"
  logLevel: "info"
```

**ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®æ‚¨çš„ API Key åŽé‡æ–°å¯åŠ¨æœåŠ¡ã€‚**

### 3. é…ç½® Gemini CLI

```bash
# å®‰è£… Gemini CLIï¼ˆå¦‚æžœæœªå®‰è£…ï¼‰
npm install -g @google/gemini-cli

# è®¾ç½® Gemini CLI ä½¿ç”¨æœ¬åœ°ç½‘å…³
export GOOGLE_GEMINI_BASE_URL="http://localhost:3002/api"

# å¼€å§‹ä½¿ç”¨
gemini "ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±"
```

## ðŸ“– ä½¿ç”¨æŒ‡å—

### é…ç½®ä¼˜å…ˆçº§

ç³»ç»Ÿæ”¯æŒçµæ´»çš„é…ç½®ç®¡ç†ï¼š

1. **å…¨å±€é…ç½®** (`~/.gemini-any-llm/config.yaml`) - é»˜è®¤é…ç½®ï¼Œé€‚ç”¨äºŽæ‰€æœ‰é¡¹ç›®
2. **é¡¹ç›®é…ç½®** (`./config/config.yaml`) - é¡¹ç›®ç‰¹å®šé…ç½®ï¼Œä¼˜å…ˆçº§æ›´é«˜
3. **çŽ¯å¢ƒå˜é‡** - æœ€é«˜ä¼˜å…ˆçº§ï¼Œå¯è¦†ç›–ä»»ä½•é…ç½®

**é‡è¦**ï¼šå¦‚æžœé¡¹ç›®ç›®å½•ä¸‹å­˜åœ¨ `config/config.yaml`ï¼Œå°†å®Œå…¨ä¸è¯»å–å…¨å±€é…ç½®ã€‚

### æ”¯æŒçš„æä¾›å•†

| æä¾›å•† | baseURL | æŽ¨èæ¨¡åž‹ |
|--------|---------|----------|
| æ™ºè°±AI | `https://open.bigmodel.cn/api/paas/v4` | `glm-4.5` |
| OpenAI | `https://api.openai.com/v1` | `gpt-4` |
| åƒé—® | `https://dashscope.aliyuncs.com/compatible-mode/v1` | `qwen-max` |

### é¡¹ç›®ç‰¹å®šé…ç½®

å¦‚æžœæ‚¨éœ€è¦ä¸ºç‰¹å®šé¡¹ç›®ä½¿ç”¨ä¸åŒçš„æ¨¡åž‹æˆ–é…ç½®ï¼š

```bash
# åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºé…ç½®
mkdir config
cat > config/config.yaml << EOF
openai:
  apiKey: "project-specific-key"
  model: "gpt-4"
  baseURL: "https://api.openai.com/v1"
gateway:
  port: 3003
EOF
```

### å¸¸è§ä½¿ç”¨åœºæ™¯

```bash
# æ—¥å¸¸å¯¹è¯
gemini "è§£é‡Šä¸€ä¸‹é‡å­è®¡ç®—çš„åŸºæœ¬åŽŸç†"

# ä»£ç ç”Ÿæˆ
gemini "ç”¨ Python å†™ä¸€ä¸ªå¿«é€ŸæŽ’åºç®—æ³•"

# æµå¼è¾“å‡ºï¼ˆå®žæ—¶å“åº”ï¼‰
gemini --stream "å†™ä¸€ç¯‡å…³äºŽäººå·¥æ™ºèƒ½å‘å±•çš„æ–‡ç« "
```

## ðŸ”§ é…ç½®è¯´æ˜Ž

### åŸºç¡€é…ç½®

- `openai.apiKey` - **å¿…éœ€** AI æä¾›å•†çš„ API å¯†é’¥
- `openai.baseURL` - API ç«¯ç‚¹åœ°å€
- `openai.model` - é»˜è®¤ä½¿ç”¨çš„æ¨¡åž‹åç§°
- `openai.timeout` - è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰

### ç½‘å…³é…ç½®

- `gateway.port` - æœåŠ¡ç«¯å£ï¼ˆé»˜è®¤ 3002ï¼‰
- `gateway.host` - ç»‘å®šåœ°å€ï¼ˆé»˜è®¤ 0.0.0.0ï¼‰
- `gateway.logLevel` - æ—¥å¿—çº§åˆ«ï¼ˆdebug/info/warn/errorï¼‰

## ðŸ› ï¸ å¸¸è§é—®é¢˜

### å¯åŠ¨å¤±è´¥

**é—®é¢˜**ï¼šæœåŠ¡å¯åŠ¨å¤±è´¥ï¼Œæç¤º API Key æœªé…ç½®
**è§£å†³**ï¼šæ£€æŸ¥ `~/.gemini-any-llm/config.yaml` æ–‡ä»¶ï¼Œç¡®ä¿ `openai.apiKey` å·²æ­£ç¡®è®¾ç½®

### ç«¯å£å†²çª

**é—®é¢˜**ï¼šç«¯å£ 3002 å·²è¢«å ç”¨
**è§£å†³**ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ `gateway.port` ä¸ºå…¶ä»–ç«¯å£

### Gemini CLI è¿žæŽ¥å¤±è´¥

**é—®é¢˜**ï¼šGemini CLI æ— æ³•è¿žæŽ¥åˆ°ç½‘å…³
**è§£å†³**ï¼š
1. ç¡®è®¤æœåŠ¡æ­£åœ¨è¿è¡Œï¼š`curl http://localhost:3002/api/v1/health`
2. æ£€æŸ¥ `GOOGLE_GEMINI_BASE_URL` çŽ¯å¢ƒå˜é‡è®¾ç½®æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤é˜²ç«å¢™æœªé˜»æ­¢ç«¯å£è®¿é—®

### å“åº”é€Ÿåº¦æ…¢

**é—®é¢˜**ï¼šAI å“åº”é€Ÿåº¦è¾ƒæ…¢
**è§£å†³**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥åˆ° AI æä¾›å•†çš„é€Ÿåº¦
2. å°è¯•ä½¿ç”¨ä¸åŒçš„ `baseURL`ï¼ˆå¦‚å›½å†…çš„é•œåƒæœåŠ¡ï¼‰
3. è°ƒæ•´ `timeout` è®¾ç½®

## ðŸ“š æ›´å¤šèµ„æº

- ðŸ“‹ [å¼€å‘æ‰‹å†Œ](./DEVELOPMENT.md) - å¼€å‘çŽ¯å¢ƒè®¾ç½®å’Œæž„å»ºè¯´æ˜Ž
- ðŸ§  [æž¶æž„æ–‡æ¡£](./CLAUDE.md) - è¯¦ç»†çš„æŠ€æœ¯æž¶æž„å’Œå¼€å‘æŒ‡å—
- ðŸ§ª [æµ‹è¯•è¯´æ˜Ž](./CLAUDE.md#testing-architecture) - æµ‹è¯•æž¶æž„å’Œè¿è¡Œæ–¹å¼

## ðŸ¤ è´¡çŒ®

æ¬¢è¿Žæäº¤ Issue å’Œ Pull Requestï¼

## ðŸ“„ è®¸å¯è¯

MIT License
