# Gemini Any LLM Gateway

> è®© Gemini CLI è®¿é—®ä»»ä½•å¤§è¯­è¨€æ¨¡åž‹æä¾›å•†

## ðŸŽ¯ é¡¹ç›®ç®€ä»‹

Gemini Any LLM Gateway æ˜¯ä¸€ä¸ª API ç½‘å…³æœåŠ¡ï¼Œè®©æ‚¨å¯ä»¥é€šè¿‡ Gemini CLI æ— ç¼è®¿é—®å„ç§å¤§è¯­è¨€æ¨¡åž‹æä¾›å•†ï¼ˆå¦‚ OpenAIã€æ™ºè°±AIã€åƒé—®ç­‰ï¼‰ã€‚æ— éœ€ä¿®æ”¹ Gemini CLIï¼Œå³å¯äº«å—å¤šæ ·åŒ–çš„ AI æ¨¡åž‹æœåŠ¡ã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- ðŸ”Œ **å³æ’å³ç”¨** - æ— éœ€ä¿®æ”¹ Gemini CLIï¼Œå®Œå…¨å…¼å®¹
- ðŸŒ **å¤šæä¾›å•†æ”¯æŒ** - æ”¯æŒ OpenAIã€æ™ºè°±AIã€åƒé—®ç­‰å¤šç§æä¾›å•†
- âš¡ **é«˜æ€§èƒ½æµå¼å“åº”** - å®žæ—¶æµå¼è¾“å‡ºï¼Œä½“éªŒæµç•…
- ðŸ› ï¸ **æ™ºèƒ½å·¥å…·è°ƒç”¨** - å®Œæ•´æ”¯æŒ Function Calling
- ðŸ“ **çµæ´»é…ç½®ç®¡ç†** - å…¨å±€é…ç½® + é¡¹ç›®é…ç½®ï¼Œä½¿ç”¨ä¾¿æ·

## ðŸš€ å¿«é€Ÿå¼€å§‹

è¯·æŒ‰ç…§ä¸‹åˆ—é¡ºåºå…¨å±€å®‰è£…æ‰€éœ€å·¥å…·ï¼ˆå·²é…ç½® npmmirror é•œåƒæºï¼‰ï¼š

```bash
npm install -g @google/gemini-cli --registry https://registry.npmmirror.com
npm install -g @google/gemini-cli-core --registry https://registry.npmmirror.com
npm install -g @kdump/gemini-any-llm --registry https://registry.npmmirror.com
```

éšåŽç›´æŽ¥è¿è¡Œï¼š

```bash
gal code
```

- **é¦–æ¬¡è¿è¡Œ** ä¼šè§¦å‘å‘å¯¼ï¼Œè¦æ±‚å¡«å†™ baseURLã€model ä¸Ž apiKeyï¼Œå¹¶å†™å…¥ `~/.gemini-any-llm/config.yaml`ã€‚
- ç¨‹åºä¼šè‡ªåŠ¨ç”Ÿæˆæˆ–æ›´æ–° `~/.gemini/settings.json`ï¼Œç¡®ä¿ `selectedAuthType` å›ºå®šä¸º `gemini-api-key`ã€‚
- å®Œæˆé…ç½®åŽï¼Œæ¯æ¬¡æ‰§è¡Œ `gal code` å³å¯è‡ªåŠ¨è¿žæŽ¥ç½‘å…³å¹¶è°ƒç”¨ Gemini CLIã€‚

## ðŸ“– ä½¿ç”¨æŒ‡å—

### é…ç½®ä¼˜å…ˆçº§

ç³»ç»Ÿæ”¯æŒçµæ´»çš„é…ç½®ç®¡ç†ï¼š

1. **å…¨å±€é…ç½®** (`~/.gemini-any-llm/config.yaml`) - é»˜è®¤é…ç½®ï¼Œé€‚ç”¨äºŽæ‰€æœ‰é¡¹ç›®
2. **é¡¹ç›®é…ç½®** (`./config/config.yaml`) - é¡¹ç›®ç‰¹å®šé…ç½®ï¼Œä¼˜å…ˆçº§æ›´é«˜
3. **çŽ¯å¢ƒå˜é‡** - æœ€é«˜ä¼˜å…ˆçº§ï¼Œå¯è¦†ç›–ä»»ä½•é…ç½®

**é‡è¦**ï¼šå¦‚æžœé¡¹ç›®ç›®å½•ä¸‹å­˜åœ¨ `config/config.yaml`ï¼Œå°†å®Œå…¨ä¸è¯»å–å…¨å±€é…ç½®ã€‚

### æ”¯æŒçš„æä¾›å•†

| æä¾›å•† | baseURL | æŽ¨èæ¨¡åž‹ |
|--------|---------|----------|
| æ™ºè°±AI | `https://open.bigmodel.cn/api/paas/v4` | `glm-4.5` |
| OpenAI | `https://api.openai.com/v1` | `gpt-4` |
| åƒé—® | `https://dashscope.aliyuncs.com/compatible-mode/v1` | `qwen3-next-80b-a3b-thinking` |

### é¡¹ç›®ç‰¹å®šé…ç½®

å¦‚æžœæ‚¨éœ€è¦ä¸ºç‰¹å®šé¡¹ç›®ä½¿ç”¨ä¸åŒçš„æ¨¡åž‹æˆ–é…ç½®ï¼š

```bash
# åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºé…ç½®
mkdir config
cat > config/config.yaml << EOF
openai:
  apiKey: "project-specific-key"
  model: "gpt-4"
  baseURL: "https://api.openai.com/v1"
gateway:
  port: 3003
EOF
```

### å¸¸è§ä½¿ç”¨åœºæ™¯

```bash
# æ—¥å¸¸å¯¹è¯
gemini "è§£é‡Šä¸€ä¸‹é‡å­è®¡ç®—çš„åŸºæœ¬åŽŸç†"

# ä»£ç ç”Ÿæˆ
gemini "ç”¨ Python å†™ä¸€ä¸ªå¿«é€ŸæŽ’åºç®—æ³•"

# æµå¼è¾“å‡ºï¼ˆå®žæ—¶å“åº”ï¼‰
gemini --stream "å†™ä¸€ç¯‡å…³äºŽäººå·¥æ™ºèƒ½å‘å±•çš„æ–‡ç« "
```

## ðŸ”§ é…ç½®è¯´æ˜Ž

### åŸºç¡€é…ç½®

- `openai.apiKey` - **å¿…éœ€** AI æä¾›å•†çš„ API å¯†é’¥
- `openai.baseURL` - API ç«¯ç‚¹åœ°å€
- `openai.model` - é»˜è®¤ä½¿ç”¨çš„æ¨¡åž‹åç§°
- `openai.timeout` - è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰

### ç½‘å…³é…ç½®

- `gateway.port` - æœåŠ¡ç«¯å£ï¼ˆé»˜è®¤ 23062ï¼‰
- `gateway.host` - ç»‘å®šåœ°å€ï¼ˆé»˜è®¤ 0.0.0.0ï¼‰
- `gateway.logLevel` - æ—¥å¿—çº§åˆ«ï¼ˆdebug/info/warn/errorï¼‰

## ðŸ› ï¸ å¸¸è§é—®é¢˜

### å¯åŠ¨å¤±è´¥

**é—®é¢˜**ï¼šæœåŠ¡å¯åŠ¨å¤±è´¥ï¼Œæç¤º API Key æœªé…ç½®
**è§£å†³**ï¼šæ£€æŸ¥ `~/.gemini-any-llm/config.yaml` æ–‡ä»¶ï¼Œç¡®ä¿ `openai.apiKey` å·²æ­£ç¡®è®¾ç½®

### ç«¯å£å†²çª

**é—®é¢˜**ï¼šç«¯å£ 23062 å·²è¢«å ç”¨
**è§£å†³**ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ `gateway.port` ä¸ºå…¶ä»–ç«¯å£

### Gemini CLI è¿žæŽ¥å¤±è´¥

**é—®é¢˜**ï¼šGemini CLI æ— æ³•è¿žæŽ¥åˆ°ç½‘å…³
**è§£å†³**ï¼š
1. ç¡®è®¤æœåŠ¡æ­£åœ¨è¿è¡Œï¼š`curl http://localhost:23062/api/v1/health`
2. æ£€æŸ¥ `GOOGLE_GEMINI_BASE_URL` çŽ¯å¢ƒå˜é‡è®¾ç½®æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤é˜²ç«å¢™æœªé˜»æ­¢ç«¯å£è®¿é—®

### å“åº”é€Ÿåº¦æ…¢

**é—®é¢˜**ï¼šAI å“åº”é€Ÿåº¦è¾ƒæ…¢
**è§£å†³**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥åˆ° AI æä¾›å•†çš„é€Ÿåº¦
2. å°è¯•ä½¿ç”¨ä¸åŒçš„ `baseURL`ï¼ˆå¦‚å›½å†…çš„é•œåƒæœåŠ¡ï¼‰
3. è°ƒæ•´ `timeout` è®¾ç½®

## ðŸ“š æ›´å¤šèµ„æº

- ðŸ“‹ [å¼€å‘æ‰‹å†Œ](./DEVELOPMENT.md) - å¼€å‘çŽ¯å¢ƒè®¾ç½®å’Œæž„å»ºè¯´æ˜Ž
- ðŸ§  [æž¶æž„æ–‡æ¡£](./CLAUDE.md) - è¯¦ç»†çš„æŠ€æœ¯æž¶æž„å’Œå¼€å‘æŒ‡å—
- ðŸ§ª [æµ‹è¯•è¯´æ˜Ž](./CLAUDE.md#testing-architecture) - æµ‹è¯•æž¶æž„å’Œè¿è¡Œæ–¹å¼

## ðŸ¤ è´¡çŒ®

æ¬¢è¿Žæäº¤ Issue å’Œ Pull Requestï¼

## ðŸ“„ è®¸å¯è¯

Apache License 2.0
